@use 'sass:math';
@use '../_common/variable' as var;
@use '../_common/mixin/' as mixin;
@use '../_common/extend/' as *;
@use '../_common/function/' as func;

// フッター
// -----------------------------------------------------------------------------
// .l-footer
// -----------------------------------------------
.l-footer {
  $this: &;

  @extend %structure;
  grid-area: footer;

  &__outer {
    @extend %reset-margin;

    background-color: var.$PRIMARY_COLOR;
    display: grid;
    gap: 0
      func.calc-size(
        $tempSizeFrom: 16px,
        $tempSizeTo: 40px,
        $tempViewportFrom: 375px,
        $tempViewportTo: var.$MINOR_BREAKPOINT - 1px
      );
    grid-column: 1 / 4;
    grid-template-columns:
      1fr minmax(var.$CONTENT_WIDTH_NARROW, 1296px)
      1fr;

    &--navigation {
      background-color: var.$BACKGROUND_COLOR_5;

      #{$this}__inner {
        padding: 58px 0 46px;
      }
    }
  }

  &__inner {
    @extend %structure-inner;

    padding: 42px 0 48px;
  }

  // banner
  &__banner {
    padding-bottom: 40px;
  }

  // logo
  &__logo {
    display: flex;
    justify-content: center;
  }

  &__logoLink {
    display: block;
    width: 224px;
  }

  &__logoItem {
    display: block;
    height: auto;
    max-width: 100%;
  }

  // tagline
  &__tagline {
    font-size: func.px-to-rem(10);
    font-weight: bold;
    margin-top: 22px;
    text-align: center;
  }

  // navigation
  &__navigation {
    border-top: 1px solid var.$BORDER_COLOR_2;
    padding-top: 32px;
  }

  &__navigationList {
    display: grid;
    gap: 20px 6px;
    grid-auto-flow: column;
    grid-template-columns: repeat(2, auto);
    grid-template-rows: repeat(6, auto);
  }

  &__navigationListItem {
    font-size: func.px-to-rem(13);

    $index: 1;
    @for $i from 7 through 1 {
      &:nth-last-child(#{$i}) {
        grid-area: #{$index} / 2 / #{$index} / 3;
      }
      $index: $index + 1;
    }
  }
  &__navigationLink {
    color: var.$COLOR;
    display: inline-block;
    padding-left: 28px;
    position: relative;
    text-decoration: none;

    &::before {
      content: '';
      display: block;
      height: 16px;
      left: 4px;
      position: absolute;
      top: 0.2em;
      transition: left var.$TRANSITION_DURATION var.$TRANSITION_TIMING_FUNCTION;
      width: 16px;
      @include mixin.svg(
        $data:
          '<path d="M91.8,74.4H8.2c-4.6,0-8.2-3.7-8.2-8.2c0-4.5,3.7-8.2,8.2-8.2H77L64.8,38.2c-2.4-3.9-1.2-8.9,2.7-11.3c3.9-2.4,9-1.2,11.3,2.7l19.9,32.3c1.6,2.5,1.6,5.7,0.2,8.3C97.5,72.8,94.7,74.4,91.8,74.4z"/>',
        $fill: var.$PRIMARY_COLOR
      );
    }

    &:any-link {
      &:hover,
      &:focus {
        text-decoration: underline;

        &::before {
          left: 7px;
        }
      }
    }
  }

  // &__navigationLinkText {
  // }

  // utility
  // &__utility {
  // }

  &__utilityList {
    display: flex;
    flex-wrap: wrap;
    gap: 14px 26px;
    justify-content: center;
  }

  &__utilityListItem {
    font-size: func.px-to-rem(13);
  }

  &__utilityLink {
    color: var.$COLOR_CHIP_WHITE;
    text-decoration: underline;
  }

  // &__utilityLinkText {
  // }

  // copyright
  &__copyright {
    color: var.$COLOR_CHIP_WHITE;
    font-size: func.px-to-rem(13);
    margin-top: 32px;
    text-align: center;
  }
}

// // Wide Viewport
@include mixin.media-query {
  .l-footer {
    $this: &;

    &__outer {
      &--navigation {
        #{$this}__inner {
          display: flex;
          gap: func.calc-size($tempSizeFrom: 24px, $tempSizeTo: 32px);
          padding: 60px 0px 44px;

          > * {
            flex: 1 1 100%;
          }
        }
      }
    }

    &__inner {
      padding: 46px 0;
    }

    // banner
    &__banner {
      padding: 0 0 0 func.calc-size($tempSizeFrom: 0, $tempSizeTo: 72px);
    }

    // logo
    &__logo {
      justify-content: flex-start;
    }

    &__logoLink {
      width: func.calc-size($tempSizeFrom: 240px, $tempSizeTo: 304px);
    }

    // tagline
    &__tagline {
      font-size: func.px-to-rem(13);
      margin-top: 24px;
      text-align: left;
    }

    &__copyright {
      margin-top: 20px;
    }

    // navigation
    &__navigation {
      border: 0;
      padding: 0;
      padding: 0 func.calc-size($tempSizeFrom: 0, $tempSizeTo: 82px) 0 0;
    }

    &__navigationList {
      gap: func.calc-size($tempSizeFrom: 14px, $tempSizeTo: 20px)
        func.calc-size($tempSizeFrom: 14px, $tempSizeTo: 16px);
    }
  }
}

@include mixin.media-query($breakpoint: var.$MINOR_BREAKPOINT_2) {
  .l-footer {
    $this: &;

    &__navigationList {
      grid-template-columns: repeat(3, auto);
      grid-template-rows: repeat(5, auto);
    }

    &__navigationListItem {
      grid-area: auto;

      &:nth-last-child(1) {
        grid-area: 3/3/3/4;
      }
      &:nth-last-child(2) {
        grid-area: 2/3/2/4;
      }
      &:nth-last-child(3) {
        grid-area: 1/3/1/4;
      }
    }
  }
}
